<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pflanzen kaufen – GrowEmpire</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      background: url("assets/dashboard.png") no-repeat center center fixed;
      background-size: cover;
      font-family: sans-serif;
      color: white;
      margin: 0;
    }
    .menu-button {
      position: absolute;
      top: 20px;
      left: 20px;
      font-size: 30px;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }
    .dropdown {
      display: none;
      position: absolute;
      top: 60px;
      left: 20px;
      background: rgba(0, 0, 0, 0.9);
      padding: 15px;
      border-radius: 8px;
      flex-direction: column;
    }
    .dropdown a {
      color: #00ff99;
      text-decoration: none;
      margin: 5px 0;
    }
    h1 {
      text-align: center;
      margin-top: 80px;
    }
    .plant-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    .plant {
      background: rgba(0, 0, 0, 0.7);
      border-radius: 10px;
      padding: 10px;
      text-align: center;
    }
    .plant img {
      width: 100%;
      border-radius: 8px;
    }
    .plant button {
      margin-top: 10px;
      background: #00cc66;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
    }
    .plant button:disabled {
      background: gray;
      cursor: not-allowed;
    }
  </style>
</head>
<body>

<!-- Menü -->
<button class="menu-button" onclick="toggleMenu()">☰</button>
<div id="dropdown" class="dropdown">
  <a href="dashboard.html">📊 Dashboard</a>
  <a href="plants.html">🌱 Pflanzen kaufen</a>
  <a href="starterbox.html">💎 Upgrade Box</a>
  <a href="partner.html">🤝 Partner</a>
  <a href="settings.html">⚙️ Einstellungen</a>
  <a href="index.html">🚪 Logout</a>
</div>

<h1>🌱 Pflanzen kaufen</h1>
<div class="plant-grid">
  <div class="plant">
    <img src="assets/kush2.png" alt="Kush #2">
    <h3>Kush #2</h3>
    <p>CHF 180.– | 75 Tage</p>
    <button onclick="buyPlant('Kush #2')">Kaufen</button>
  </div>
  <div class="plant">
    <img src="assets/sativa1.png" alt="Sativa Dream">
    <h3>Sativa Dream</h3>
    <p>CHF 195.– | 80 Tage</p>
    <button onclick="buyPlant('Sativa Dream')">Kaufen</button>
  </div>
  <div class="plant">
    <img src="assets/haze1.png" alt="Purple Haze">
    <h3>Purple Haze</h3>
    <p>CHF 210.– | 85 Tage</p>
    <button onclick="buyPlant('Purple Haze')">Kaufen</button>
  </div>
  <div class="plant">
    <img src="assets/ogkush.png" alt="OG Kush">
    <h3>OG Kush</h3>
    <p>CHF 220.– | 90 Tage</p>
    <button onclick="buyPlant('OG Kush')">Kaufen</button>
  </div>
</div>

<script>
  function toggleMenu() {
    const menu = document.getElementById("dropdown");
    menu.style.display = menu.style.display === "flex" ? "none" : "flex";
  }

  function buyPlant(name) {
    const lizenz = localStorage.getItem("lizenz") === "true";
    const pro = localStorage.getItem("pro") === "true";
    const premium = localStorage.getItem("premium") === "true";

    let limit = 1;
    if (lizenz) limit = 3;
    if (pro) limit = 6;
    if (premium) limit = 999;

    const current = parseInt(localStorage.getItem("pflanzen") || "0");
    if (current >= limit) {
      alert("Du hast dein Limit erreicht. Upgrade deine Lizenz für mehr!");
      return;
    }

    localStorage.setItem("pflanzen", current + 1);
    alert(name + " wurde erfolgreich gepflanzt! 🌱");
  }
</script>

</body>
</html>
