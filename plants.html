<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pflanzen kaufen – GrowEmpire</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      background: url('assets/dashboard.png') no-repeat center center fixed;
      background-size: cover;
      color: white;
      font-family: Arial, sans-serif;
    }
    .menu-toggle {
      position: absolute;
      top: 20px;
      left: 20px;
      background-color: #00ff90;
      color: #000;
      padding: 10px 15px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      z-index: 10;
    }
    .menu-content {
      display: none;
      position: absolute;
      top: 60px;
      left: 20px;
      background-color: rgba(0,0,0,0.9);
      border-radius: 8px;
      padding: 10px;
      z-index: 10;
    }
    .menu-content a {
      display: block;
      color: #00ff90;
      text-decoration: none;
      padding: 6px 0;
    }
    .menu-toggle:hover + .menu-content,
    .menu-content:hover {
      display: block;
    }

    .container {
      max-width: 1000px;
      margin: 120px auto;
      padding: 20px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
    }
    .card {
      background: rgba(0,0,0,0.6);
      border: 2px solid #00ff90;
      border-radius: 16px;
      padding: 15px;
      text-align: center;
      box-shadow: 0 0 12px #00ff90;
    }
    .card img {
      width: 100%;
      border-radius: 12px;
      height: 160px;
      object-fit: cover;
    }
    .card h3 {
      margin: 10px 0 5px;
      color: #00ff90;
    }
    .buy-btn {
      background: #00ff90;
      color: #000;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 8px;
    }
    .buy-btn:disabled {
      background: #666;
      cursor: not-allowed;
    }
  </style>
</head>
<body>

<!-- ☰ Menü -->
<div class="menu-toggle">☰</div>
<div class="menu-content">
  <a href="dashboard.html">📊 Dashboard</a>
  <a href="plants.html">🌱 Pflanzen kaufen</a>
  <a href="starterbox.html">💎 Upgrade Box</a>
  <a href="partner.html">🤝 Partner</a>
  <a href="settings.html">⚙️ Einstellungen</a>
  <a href="index.html">🚪 Logout</a>
</div>

<div class="container">
  <h1>🌿 Pflanzen kaufen</h1>
  <p>Wähle deine Sorte. Aktive Pflanzen: <span id="pflanzenStatus">0</span></p>

  <div class="grid">
    <div class="card">
      <img src="assets/sativa1.png" alt="Sativa" />
      <h3>Sativa Dream</h3>
      <p>CHF 150.–</p>
      <button class="buy-btn" onclick="buyPlant()">Kaufen</button>
    </div>
    <div class="card">
      <img src="assets/haze1.png" alt="Haze" />
      <h3>Purple Haze</h3>
      <p>CHF 160.–</p>
      <button class="buy-btn" onclick="buyPlant()">Kaufen</button>
    </div>
    <div class="card">
      <img src="assets/ogkush.png" alt="OG Kush" />
      <h3>OG Kush</h3>
      <p>CHF 180.–</p>
      <button class="buy-btn" onclick="buyPlant()">Kaufen</button>
    </div>
    <div class="card">
      <img src="assets/kush2.png" alt="Kush #2" />
      <h3>Kush #2</h3>
      <p>CHF 170.–</p>
      <button class="buy-btn" onclick="buyPlant()">Kaufen</button>
    </div>
  </div>
</div>

<script>
  // Lizenz prüfen
  const lizenz = localStorage.getItem("lizenz") === "true";
  const pro = localStorage.getItem("pro") === "true";
  const premium = localStorage.getItem("premium") === "true";

  let limit = lizenz ? 3 : 1;
  if (pro) limit = 6;
  if (premium) limit = 999;

  let gekauftePflanzen = parseInt(localStorage.getItem("pflanzen") || "0");
  document.getElementById("pflanzenStatus").textContent = `${gekauftePflanzen}/${limit}`;

  function buyPlant() {
    if (gekauftePflanzen >= limit) {
      alert("⚠️ Du hast das Pflanzenlimit deiner Lizenz erreicht!");
      return;
    }
    gekauftePflanzen++;
    localStorage.setItem("pflanzen", gekauftePflanzen);
    document.getElementById("pflanzenStatus").textContent = `${gekauftePflanzen}/${limit}`;
    alert("✅ Pflanze erfolgreich gekauft!");
  }
</script>
</body>
</html>
